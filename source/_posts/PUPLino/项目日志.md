---
title: 项目日志
tags: [RISCV,PULPino]
categories: [PULPino]
cover: /img/pulpino.png
recommend: true
abbrlink: 48070
date: 2023-03-30 14:59:46
---

# PUPLino项目日志

**主要任务，熟悉pulpino整个平台的运行过程，并将异步组件加入到pulpino中。**

## 第一周

- 无法解决modelsim和verdi联合仿真的问题，但成功将Click产生的fire信号正确的送入ex模块中去。

​	*按照道理说，click产生的时钟信号和clk相位和频率都是一样的，但是ex模块出错，modelsim因为开了优化而无法观察信号，也就无法追踪错误，该问题暂时无法解决。*

​	该问题在第二周的时候解决，时钟信号未接到debug函数导致。但是无法观察数据的波形。

## 第二周

- 将在windows下使用questasim搭建整个pulpino平台

  无法加载tb，必须完全了解平台的运行过程才行

  - 从tb入手，找出平台的接口。
  
    发现默认使用 PRELOAD 宏定义 直接从本地文件读入到核内的ram中
  
    ```systemverilog
    instr_mem = tb.top_i.core_region_i.instr_mem.sp_ram_wrap_i.mem
    data_mem = tb.top_i.core_region_i.data_mem.mem
    ```
  
    但是本地文件未找到，怀疑是交叉编译链没有生成对应的机器码。
  
    地址为：
  
    ```systemverilog
    instr:	 if(!$value$plusargs("l2_imem=%s", l2_imem_file))
             l2_imem_file = "slm_files/l2_stim.slm";
    
    data：   if(!$value$plusargs("l2_dmem=%s", l2_dmem_file))
             l2_dmem_file = "slm_files/tcdm_bank0.slm";
    ```
  
    文件地址找到： 在build中app里的helloworld文件夹里，而且在build运行make 命令时实际上的工作目录是在build中app的helloworld里。
    
    目前发现modelsim可以加载综合后的网表文件，以及sdf文件所以我目前判断可以利用平台进行黑盒后仿真，这样我就不需要再去移植到windows下，但我依然需要知道整个平台的运行过程。
    
    ### 问题
    
    - 宏定义都是加载在哪里
    - 他是怎么通过make helloworld.vsimc调起run.tcl

## 第三周

目标：- 顺着tb深度了解平台运行机制

​			- 将平台外设和取指部分代码看懂
