---
title: 问题记录
abbrlink: 59223
date: 2023-03-29 19:36:45
cover: /img/1.jpg
recommend: true
tags:
---

# 问题总结

## modelsim优化了太多信号看不到想看的波形

使用modelsim产生fsdb文件，使用verdi看波形。

<u>modelsim产生VCD文件的方法</u>:

1.在拉起仿真后通知台输入vcd file filename.vcd 创建vcd文件

2.继续输入命令

```tcl
vcd add -file signal.vcd -r /tb/*
```

3.run -all 便可生成VCD文件

结束仿真后才能真正写入文件

vcd2fsdb可以让verdi将vcd文件转换为fsdb文件

```tcl
vcd2fsdb -o signal.fsdb signal.vcd
```

## modelsim下进行VHDL和Verilog的混合仿真

modelsim的编译命令中vcom用于vhdl 而vlog用于verilog
modelsim安装目录下就有demo 路径是C:\modeltech64_xxx\examples\tutorials\mixed

vhdl调用verilog module举例（FD是verilog的）

```VHDL
COMPONENT FD PORT (
Q : out STD_ULOGIC;
D : in STD_ULOGIC;
C : in STD_ULOGIC );
END COMPONENT;

UUT : FD PORT MAP(
Q => O,
D => I,
C => CLK);
```

verilog调用vhdl entity（FD是vhdl的）

```verilog
FD FD1(
.Q(Q_OUT),
.C(CLK);
.D(A);
```

## SV: Could not find the package

需要再加个include包括一下这个import

要注意include的时候，文件需要在同一个文件夹下，如果不是要用相对路径或者绝对路径。

```systemverilog
`include "fpu_defs_fmac.sv"
import fpu_defs_fmac::*;
```

## SV:在task中使用全局变量   ⭕

可以在task中使用全局变量，但是不可综合。**遇到问题如何在task中使用调用一个文件的全局变量**

## VHDL:component port "INT" is not on the entity
